  :root{
    --accent:#3b82f6; --muted:#94a3b8; --white:#ffffff;
    --card-bg: rgba(255,255,255,0.06);
    --bg-dark1:#071428; --bg-dark2:#0f3b66;
    --bg-light1:#e6f0ff; --bg-light2:#dbefff;
  }
  *{
    box-sizing:border-box
  }
  html,body{
    height:100%; margin:0; font-family:Inter,system-ui,Arial; -webkit-font-smoothing:antialiased;
  }
  body {
     background: linear-gradient(135deg,var(--bg-dark1),var(--bg-dark2)); color:var(--white); transition: background 0.6s, color 0.3s; 
    }

  /* aydınlık tema */
  body.light {
     background: linear-gradient(135deg,var(--bg-light1),var(--bg-light2)); color:#07203e; 
    }
  body.light .card {
     background: rgba(4,6,12,0.03); color:#07203e; 
    }
  body.light .btn {
     color: #07203e; border-color: rgba(7,32,62,0.06); 
    }
  body.light .btn.primary {
     color:#fff; background:var(--accent); 
    }
  .wrap{
    min-height:100vh; display:flex; align-items:center; justify-content:center; padding:2rem; position:relative; overflow:hidden;
  }
  .card{
    width:100%; max-width:980px; background:var(--card-bg); border-radius:12px; padding:1.2rem; box-shadow:0 10px 40px rgba(2,6,23,0.6); backdrop-filter: blur(6px); position:relative; z-index:5;
  }
  header{
    display:flex; align-items:center; justify-content:space-between; gap:1rem; margin-bottom:0.8rem
  }
  header h1{
    font-size:1.15rem; margin:0; font-weight:700
  }
  .controls{
    display:flex; gap:.5rem; align-items:center
  }
  .btn{
    background:transparent; color:var(--white); border:1px solid rgba(255,255,255,0.12); padding:.45rem .7rem; border-radius:8px; cursor:pointer; transition:transform .12s
  }
  .btn:active{
    transform:scale(.98)
  }
  .btn.primary{
    background:var(--accent); border-color:transparent; color:#07203e
  }
  .search{
    display:flex; gap:.5rem; margin:0.75rem 0
  }
  .search input{
    flex:1; padding:.6rem .8rem; border-radius:8px; border:1px solid rgba(255,255,255,0.08); background:transparent; color:inherit
  }
  .main-grid{
    display:grid; grid-template-columns:1fr 320px; gap:1rem
  }
  @media(max-width:860px){
    .main-grid{grid-template-columns:1fr} .side{order:2}
  }
  .weather-box{
    padding:1rem; border-radius:10px; background:linear-gradient(180deg, rgba(255,255,255,0.02), rgba(255,255,255,0.01));
  }
  .location{
    display:flex; align-items:center; gap:.6rem; font-weight:700
  }
  .icon{
    width:72px; height:72px
  }
  .temp-row{
    display:flex; align-items:center; gap:1rem
  }
  .temp{
    font-size:3.2rem; font-weight:700; margin:0.4rem 0
  }
  .meta{
    color:var(--muted); font-size:.95rem
  }
  .desc{
    font-size:1rem; color:var(--muted)
  }
  .forecast{
    display:flex; gap:.5rem; margin-top:.75rem; flex-wrap:wrap
  }
  .day{
    background:rgba(255,255,255,0.03); padding:.5rem .6rem; border-radius:8px; min-width:90px; text-align:center; display:flex; flex-direction:column; align-items:center; gap:.35rem
  }
  .small{
    font-size:.9rem; color:var(--muted)
  }
  .notice{
    padding:.6rem; border-radius:8px; background:rgba(255,255,255,0.03); color:var(--muted)
  }
  footer{
    margin-top:.8rem; font-size:.85rem; color:var(--muted); text-align:center
  }

  /* arkaplan efektleri */
  .bg-layer{
    position:absolute; inset:0; pointer-events:none; z-index:1; overflow:hidden;
  }
  .clouds{
    position:absolute; inset:0; background:transparent; z-index:2
  }
  .cloud{
    position:absolute; background:rgba(255,255,255,0.06); border-radius:50%; filter:blur(8px); opacity:0.9; animation: floatX 40s linear infinite;
  }
  @keyframes floatX{
     from{transform:translateX(-30vw)} to{transform:translateX(130vw)} 
    }

  /* görsel bölüm */
  .rain-container{
    position:absolute; inset:0; z-index:3; pointer-events:none
  }
  .raindrop{
    position:absolute; top:-10%; width:2px; height:18px; border-radius:2px;background:linear-gradient(to bottom, rgba(255,255,255,0.85), rgba(255,255,255,0.12));transform:skewX(-12deg) translateY(-20vh); animation: fall var(--dur) linear infinite;
    filter: drop-shadow(0 1px 1px rgba(0,0,0,0.2)); opacity:0.9;
  }
  .raindrop::after{
     content:''; position:absolute; left:0; top:60%; width:100%; height:60%; background:linear-gradient(to bottom, rgba(255,255,255,0.25), rgba(255,255,255,0.02)); transform:skewX(-12deg); opacity:0.6; border-radius:1px;
    }
  @keyframes fall{
     to{
       transform:skewX(-12deg) translateY(120vh); opacity:0.95 } 
      }

  /* kar görsel bölümü */
  .snow-container{
    position:absolute; inset:0; z-index:3; pointer-events:none
  }
  .flake{
    position:absolute; top:-5%; color:white; font-size:14px; opacity:.9; transform:translateY(-10vh); animation: snowFall var(--s) linear infinite; text-shadow:0 1px 2px rgba(0,0,0,0.25)
  }
  @keyframes snowFall{
     to{ transform:translateY(110vh) rotate(360deg); } 
    }

  /* yıldırım efekti */
  .storm-flash{
    position:absolute; inset:0; background:linear-gradient(180deg, rgba(255,255,255,0.06),rgba(255,255,255,0)); mix-blend-mode:screen; opacity:0; z-index:4; pointer-events:none
  }
  .flash{
    animation: flashAnim 4s linear infinite
  }
  @keyframes flashAnim{
     0%{opacity:0} 2%{opacity:0.9} 6%{opacity:0} 30%{opacity:0} 32%{opacity:0.6} 34%{opacity:0} 100%{opacity:0} 
    }

  .fog{
    position:absolute; inset:0; z-index:2; background:linear-gradient(rgba(255,255,255,0.02), rgba(255,255,255,0.0)); backdrop-filter: blur(8px); opacity:0.75; animation: fogMove 20s linear infinite
  }
  @keyframes fogMove{
     from{transform:translateX(-5%)} to{transform:translateX(5%)} 
    }

  .sun-rays{
    position:absolute; inset:0; z-index:2; pointer-events:none
  }
  .ray{
    position:absolute; width:2px; height:200px; background:linear-gradient(180deg, rgba(255,209,102,0.9), rgba(255,209,102,0.05)); left:50%; top:40%; transform-origin:top center; opacity:0.85; animation: spin 12s linear infinite;
  }
  @keyframes spin{
     from{transform:rotate(0deg)} to{transform:rotate(360deg)} 
    }

  /* ses slider bölümü */
  .sound-control { display: flex; align-items: center; gap:0.5rem; padding:0 .5rem; }
  .sound-control input[type="range"]{ width:140px; height:6px; border-radius:6px; background:rgba(255,255,255,0.12); outline:none; }
  .sound-control input[type="range"]::-webkit-slider-thumb{ -webkit-appearance:none; width:14px; height:14px; border-radius:50%; background:var(--accent); box-shadow:0 2px 6px rgba(11,88,160,0.3); cursor:pointer; }

  /* küçük pencere responsive */
  @media(max-width:420px){
     .temp{font-size:2.2rem} .icon{width:48px;height:48px} .day{min-width:72px} .sound-control input[type="range"]{ width:100px; } 
    }

  .btn:focus {
     outline: 3px solid rgba(59,130,246,0.18); outline-offset: 3px; 
    }